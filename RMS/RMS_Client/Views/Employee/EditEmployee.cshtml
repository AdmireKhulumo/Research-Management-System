@{
    ViewData["Title"] = "Edit Employee";

    Employee e = ViewBag.Message;

    //create and add departments
    List<string> depts = new List<string>();
    depts.Add("Computer Science and Information Systems");
    depts.Add("Forensic Science");
    depts.Add("Mechanical Engineering");
}

<div class="text-center">
    <h1 class="display-4">Edit Employee Details</h1>

    @using (Html.BeginForm("EditEmployee", "Employee", FormMethod.Post))
    {
        <div class="col-md-8 col-lg-8 container">

            <form>

                @*Names*@
                <div class="row">
                    <div class="form-group col-md-6">
                        <div class="column">
                            <label>First Name</label>
                            <input type="text" class="form-control" name="fname" id="fname" value="@e.Fname" />
                        </div>
                    </div>

                    <div class="column col-md-6">
                        <label>Last Name</label>
                        <input type="text" class="form-control" name="sname" id="sname" value="@e.Sname" />
                    </div>
                </div>


                @*Institutional Info*@
                <div class="form-group">
                    <label>Position</label>
                    <input type="text" class="form-control" name="position" id="position" value="@e.Position" />
                </div>

                <div class="form-group">
                    <label>Department</label>
                    <select class="form-control" name="department" id="department">
                        @*Add option with current department*@
                        <option value="@e.Department">@e.Department</option>

                        @*remove that department from list of depts *@
                        @depts.RemoveAll(dept => dept == e.Department);

                        @*loop through the rest of the departments and add as options*@
                        @foreach (string dept in depts)
                        {
                            <option value="@dept">@dept</option>
                        }
                    </select>
                </div>

                @*Acadmemic info*@
                <div class="form-group">
                    <label>Highest Qualificaton</label>
                    <input type="text" class="form-control" name="qualification" id="qualification" value="@e.Qualification" />
                </div>

                <div class="form-group">
                    <label>Research Interests</label>
                    <textarea class="form-control" name="interests" id="interests">@e.Interests</textarea>
                </div>


                @*Contact info*@
                <div class="row">
                    <div class="form-group col-md-6">
                        <div class="column">
                            <label>Email Address</label>
                            <input type="text" class="form-control" name="email" id="email" value="@e.Email" />
                        </div>
                    </div>

                    <div class="form-group column col-md-6">
                        <label>Phone Number</label>
                        <input type="text" class="form-control" name="phone" id="phone" value="@e.Phone" />
                    </div>
                </div>

                <input type="hidden" class="form-control" name="save" id="save" value="true" />
                <input type="hidden" class="form-control" name="empId" id="empId" value="@e.EmpId" />


                @*Modal to confirm edit*@
                <!-- Button trigger modal -->
            <div>

                <button type="button" class="btn btn-primary btn-block" data-toggle="modal" data-target="#confirm">
                    <span class="far fa-save"></span>
                    SAVE CHANGES
                </button>

                <!-- Modal -->
                <div class="modal fade" id="confirm" tabindex="-1" aria-labelledby="confirm" aria-hidden="true">
                    <div class="modal-dialog">
                        <div class="modal-content">

                            <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </div>

                            <div class="modal-body">
                                <h5>Are you sure you want to edit @e.Fname @e.Sname's details?</h5>
                            </div>

                            <div class="modal-footer">
                                <div class="form-group">
                                    <button type="button" class="btn btn badge-pill badge-light" data-dismiss="modal">CANCEL</button>
                                    <button type="submit" value="Submit" class="btn badge-pill badge-warning">CONFIRM</button>
                                </div>
                            </div>

                        </div>
                    </div>
                </div>
            </div>

            </form>
        </div>
    }

</div>

